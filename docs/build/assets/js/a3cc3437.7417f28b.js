"use strict";(globalThis.webpackChunkkafka_backup_docs=globalThis.webpackChunkkafka_backup_docs||[]).push([[1026],{3225:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"operator/troubleshooting","title":"Troubleshooting","description":"Troubleshoot the OSO Kafka Backup Operator","source":"@site/docs/operator/troubleshooting.md","sourceDirName":"operator","slug":"/operator/troubleshooting","permalink":"/operator/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/osodevops/kafka-backup-docs/tree/main/docs/docs/operator/troubleshooting.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Troubleshooting","description":"Troubleshoot the OSO Kafka Backup Operator","sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"Metrics","permalink":"/operator/metrics"},"next":{"title":"Enterprise Overview","permalink":"/enterprise/"}}');var a=s(4848),c=s(8453);const t={title:"Troubleshooting",description:"Troubleshoot the OSO Kafka Backup Operator",sidebar_position:5},l="Operator Troubleshooting",i={},o=[{value:"Diagnostic Commands",id:"diagnostic-commands",level:2},{value:"Check Operator Status",id:"check-operator-status",level:3},{value:"Check CRD Resources",id:"check-crd-resources",level:3},{value:"Check Events",id:"check-events",level:3},{value:"Common Issues",id:"common-issues",level:2},{value:"Operator Not Starting",id:"operator-not-starting",level:3},{value:"Backup Not Running",id:"backup-not-running",level:3},{value:"Backup Failing",id:"backup-failing",level:3},{value:"Restore Not Working",id:"restore-not-working",level:3},{value:"Offset Reset Issues",id:"offset-reset-issues",level:3},{value:"Secret Access Issues",id:"secret-access-issues",level:3},{value:"CRD Validation Errors",id:"crd-validation-errors",level:3},{value:"Debug Mode",id:"debug-mode",level:2},{value:"Enable Debug Logging",id:"enable-debug-logging",level:3},{value:"Restart Operator with Debug",id:"restart-operator-with-debug",level:3},{value:"Resource Status Reference",id:"resource-status-reference",level:2},{value:"KafkaBackup Status",id:"kafkabackup-status",level:3},{value:"KafkaRestore Status",id:"kafkarestore-status",level:3},{value:"Conditions",id:"conditions",level:3},{value:"Getting Help",id:"getting-help",level:2},{value:"Gather Diagnostics",id:"gather-diagnostics",level:3},{value:"Support",id:"support",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"operator-troubleshooting",children:"Operator Troubleshooting"})}),"\n",(0,a.jsx)(n.p,{children:"This guide helps troubleshoot common issues with the Kafka Backup Operator."}),"\n",(0,a.jsx)(n.h2,{id:"diagnostic-commands",children:"Diagnostic Commands"}),"\n",(0,a.jsx)(n.h3,{id:"check-operator-status",children:"Check Operator Status"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Operator pods\nkubectl get pods -n kafka-backup -l app.kubernetes.io/name=kafka-backup-operator\n\n# Operator logs\nkubectl logs -n kafka-backup deployment/kafka-backup-operator\n\n# Follow logs\nkubectl logs -n kafka-backup deployment/kafka-backup-operator -f\n\n# Previous container logs (if restarted)\nkubectl logs -n kafka-backup deployment/kafka-backup-operator --previous\n"})}),"\n",(0,a.jsx)(n.h3,{id:"check-crd-resources",children:"Check CRD Resources"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# List all backup resources\nkubectl get kafkabackups -A\n\n# Describe specific backup\nkubectl describe kafkabackup my-backup -n kafka-backup\n\n# Get backup YAML with status\nkubectl get kafkabackup my-backup -n kafka-backup -o yaml\n\n# List all CRDs\nkubectl get crds | grep kafka.oso.sh\n"})}),"\n",(0,a.jsx)(n.h3,{id:"check-events",children:"Check Events"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Events in namespace\nkubectl get events -n kafka-backup --sort-by='.lastTimestamp'\n\n# Events for specific resource\nkubectl get events -n kafka-backup --field-selector involvedObject.name=my-backup\n"})}),"\n",(0,a.jsx)(n.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,a.jsx)(n.h3,{id:"operator-not-starting",children:"Operator Not Starting"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Operator pod in CrashLoopBackOff or Error state"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Check:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl describe pod -n kafka-backup -l app.kubernetes.io/name=kafka-backup-operator\nkubectl logs -n kafka-backup deployment/kafka-backup-operator --previous\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Common Causes:"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Missing CRDs"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Check CRDs exist\nkubectl get crds | grep kafka.oso.sh\n\n# Reinstall CRDs\nhelm upgrade kafka-backup-operator oso/kafka-backup-operator \\\n  --set crds.install=true\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Insufficient permissions"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Check RBAC\nkubectl auth can-i list kafkabackups --as=system:serviceaccount:kafka-backup:kafka-backup-operator\n\n# Check ClusterRoleBinding\nkubectl get clusterrolebinding | grep kafka-backup\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Resource limits too low"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"resources:\n  requests:\n    memory: 256Mi  # Increase if OOMKilled\n  limits:\n    memory: 512Mi\n"})}),"\n",(0,a.jsx)(n.h3,{id:"backup-not-running",children:"Backup Not Running"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"KafkaBackup resource created but no backup job running"}),"\n",(0,a.jsx)(n.li,{children:'Status shows "Pending" indefinitely'}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Check:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl get kafkabackup my-backup -o yaml | grep -A 20 status\nkubectl get jobs -n kafka-backup | grep my-backup\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Common Causes:"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Schedule not triggered yet"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'# Check schedule\nspec:\n  schedule: "0 * * * *"  # Next hour\n\n# For immediate backup, remove schedule or create one-time backup\n'})}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Previous job still running"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Check for running jobs\nkubectl get jobs -n kafka-backup\n\n# Delete stuck job\nkubectl delete job my-backup-job-xyz -n kafka-backup\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Invalid configuration"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Check events\nkubectl get events -n kafka-backup --field-selector involvedObject.name=my-backup\n\n# Common: missing secret, wrong topic name, invalid storage config\n"})}),"\n",(0,a.jsx)(n.h3,{id:"backup-failing",children:"Backup Failing"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:'KafkaBackup status shows "Failed"'}),"\n",(0,a.jsx)(n.li,{children:"Job completed with error"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Check:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Get job pod logs\nkubectl logs -n kafka-backup job/my-backup-job-xyz\n\n# Describe job\nkubectl describe job my-backup-job-xyz -n kafka-backup\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Common Causes:"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Kafka connection failed"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Error: Failed to connect to Kafka broker\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"# Verify bootstrap servers\nspec:\n  kafkaCluster:\n    bootstrapServers:\n      - kafka.default.svc:9092  # Correct service name and port\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Authentication failed"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Error: SASL authentication failed\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"# Check secret exists and has correct keys\nkubectl get secret kafka-credentials -n kafka-backup -o yaml\n\n# Verify secret reference\nspec:\n  kafkaCluster:\n    saslSecret:\n      name: kafka-credentials\n      usernameKey: username  # Must match secret key\n      passwordKey: password  # Must match secret key\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Storage access denied"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Error: Access denied to S3 bucket\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Check IAM/credentials\nkubectl get secret s3-credentials -n kafka-backup\n\n# For IRSA, check service account\nkubectl describe sa kafka-backup-operator -n kafka-backup\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"4",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Topic not found"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Error: Topic 'my-topic' not found\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Verify topic exists in Kafka\nkubectl exec -it kafka-0 -- kafka-topics --list --bootstrap-server localhost:9092\n"})}),"\n",(0,a.jsx)(n.h3,{id:"restore-not-working",children:"Restore Not Working"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:'KafkaRestore stuck in "Running" or fails'}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Check:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl get kafkarestore my-restore -o yaml\nkubectl logs -n kafka-backup job/my-restore-job-xyz\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Common Causes:"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Backup not found"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Error: Backup 'backup-xyz' not found\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'# List available backups\nkafka-backup list --path s3://bucket/prefix\n\n# Check backupId matches\nspec:\n  backupId: "backup-20241201-120000"  # Exact ID\n'})}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Target cluster unreachable"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Error: Failed to connect to target cluster\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"spec:\n  targetCluster:\n    bootstrapServers:\n      - target-kafka:9092  # Verify accessibility\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"PITR time range invalid"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Error: No records found in time range\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'spec:\n  pitr:\n    enabled: true\n    # Verify timestamp is within backup range\n    timestamp: "2024-12-01T12:00:00Z"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"offset-reset-issues",children:"Offset Reset Issues"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Offset reset completes but consumers still at wrong position"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Check:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl get kafkaoffsetreset my-reset -o yaml\n\n# Verify consumer group positions\nkafka-consumer-groups --bootstrap-server kafka:9092 --group my-group --describe\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Common Causes:"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Consumers still running"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Stop consumers before reset\nkubectl scale deployment my-consumer --replicas=0\n\n# Then run reset\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Wrong strategy"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'spec:\n  strategy: headerBased  # Requires offset headers in messages\n  # Use timestamp if headers not available\n  strategy: timestamp\n  timestamp: "2024-12-01T12:00:00Z"\n'})}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Consumer group doesn't exist"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"spec:\n  consumerGroups:\n    - my-consumer-group  # Must match exact group ID\n"})}),"\n",(0,a.jsx)(n.h3,{id:"secret-access-issues",children:"Secret Access Issues"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:'"Secret not found" or "key not found" errors'}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Check:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# List secrets\nkubectl get secrets -n kafka-backup\n\n# Check secret contents\nkubectl get secret kafka-credentials -n kafka-backup -o yaml\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Fix:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"# Ensure secret exists in same namespace as KafkaBackup\napiVersion: v1\nkind: Secret\nmetadata:\n  name: kafka-credentials\n  namespace: kafka-backup  # Same namespace!\ntype: Opaque\nstringData:\n  username: myuser\n  password: mypassword\n"})}),"\n",(0,a.jsx)(n.h3,{id:"crd-validation-errors",children:"CRD Validation Errors"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Error when creating/updating resources"}),"\n",(0,a.jsx)(n.li,{children:'"spec.xxx: Invalid value" messages'}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Check:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Validate YAML\nkubectl apply -f backup.yaml --dry-run=client\n\n# Check CRD schema\nkubectl explain kafkabackup.spec\nkubectl explain kafkabackup.spec.storage\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Common validation errors:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"# Wrong: Missing required field\nspec:\n  kafkaCluster:\n    # bootstrapServers is required!\n\n# Right:\nspec:\n  kafkaCluster:\n    bootstrapServers:\n      - kafka:9092\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"# Wrong: Invalid enum value\nspec:\n  storage:\n    storageType: s4  # Invalid\n\n# Right:\nspec:\n  storage:\n    storageType: s3  # s3, azure, gcs, pvc\n"})}),"\n",(0,a.jsx)(n.h2,{id:"debug-mode",children:"Debug Mode"}),"\n",(0,a.jsx)(n.h3,{id:"enable-debug-logging",children:"Enable Debug Logging"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'# Helm values\nlogging:\n  level: debug\n\n# Or via environment\nenv:\n  - name: RUST_LOG\n    value: "kafka_backup_operator=debug,kafka_backup=debug"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"restart-operator-with-debug",children:"Restart Operator with Debug"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl rollout restart deployment/kafka-backup-operator -n kafka-backup\nkubectl logs -n kafka-backup deployment/kafka-backup-operator -f\n"})}),"\n",(0,a.jsx)(n.h2,{id:"resource-status-reference",children:"Resource Status Reference"}),"\n",(0,a.jsx)(n.h3,{id:"kafkabackup-status",children:"KafkaBackup Status"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Phase"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"Pending"})}),(0,a.jsx)(n.td,{children:"Waiting for next scheduled run"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"Running"})}),(0,a.jsx)(n.td,{children:"Backup in progress"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"Completed"})}),(0,a.jsx)(n.td,{children:"Backup finished successfully"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"Failed"})}),(0,a.jsx)(n.td,{children:"Backup failed"})]})]})]}),"\n",(0,a.jsx)(n.h3,{id:"kafkarestore-status",children:"KafkaRestore Status"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Phase"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"Pending"})}),(0,a.jsx)(n.td,{children:"Waiting to start"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"Running"})}),(0,a.jsx)(n.td,{children:"Restore in progress"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"Completed"})}),(0,a.jsx)(n.td,{children:"Restore finished successfully"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"Failed"})}),(0,a.jsx)(n.td,{children:"Restore failed"})]})]})]}),"\n",(0,a.jsx)(n.h3,{id:"conditions",children:"Conditions"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'status:\n  conditions:\n    - type: Ready\n      status: "True"\n      reason: BackupCompleted\n      message: "Backup completed successfully"\n      lastTransitionTime: "2024-12-01T12:00:00Z"\n'})}),"\n",(0,a.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,a.jsx)(n.h3,{id:"gather-diagnostics",children:"Gather Diagnostics"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# collect-diagnostics.sh\n\nNAMESPACE="kafka-backup"\nOUTPUT_DIR="kafka-backup-diagnostics"\n\nmkdir -p $OUTPUT_DIR\n\n# Operator logs\nkubectl logs -n $NAMESPACE deployment/kafka-backup-operator > $OUTPUT_DIR/operator.log\n\n# All resources\nkubectl get kafkabackups -A -o yaml > $OUTPUT_DIR/kafkabackups.yaml\nkubectl get kafkarestores -A -o yaml > $OUTPUT_DIR/kafkarestores.yaml\nkubectl get kafkaoffsetresets -A -o yaml > $OUTPUT_DIR/kafkaoffsetresets.yaml\nkubectl get kafkaoffsetrollbacks -A -o yaml > $OUTPUT_DIR/kafkaoffsetrollbacks.yaml\n\n# Jobs\nkubectl get jobs -n $NAMESPACE -o yaml > $OUTPUT_DIR/jobs.yaml\n\n# Events\nkubectl get events -n $NAMESPACE --sort-by=\'.lastTimestamp\' > $OUTPUT_DIR/events.txt\n\n# Pods\nkubectl get pods -n $NAMESPACE -o yaml > $OUTPUT_DIR/pods.yaml\n\n# Secrets (names only)\nkubectl get secrets -n $NAMESPACE > $OUTPUT_DIR/secrets.txt\n\n# Create archive\ntar -czf kafka-backup-diagnostics.tar.gz $OUTPUT_DIR\necho "Diagnostics saved to kafka-backup-diagnostics.tar.gz"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"support",children:"Support"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/osodevops/kafka-backup-operator/issues",children:"GitHub Issues"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"../troubleshooting/support",children:"Support Guide"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"../troubleshooting/common-errors",children:"Common Errors"})," - CLI error reference"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"./metrics",children:"Metrics"})," - Monitor operator health"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"./configuration",children:"Configuration"})," - Operator settings"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var r=s(6540);const a={},c=r.createContext(a);function t(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);