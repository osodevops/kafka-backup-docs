"use strict";(globalThis.webpackChunkkafka_backup_docs=globalThis.webpackChunkkafka_backup_docs||[]).push([[8966],{4385:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"troubleshooting/common-errors","title":"Common Errors","description":"Troubleshooting common OSO Kafka Backup errors","source":"@site/docs/troubleshooting/common-errors.md","sourceDirName":"troubleshooting","slug":"/troubleshooting/common-errors","permalink":"/troubleshooting/common-errors","draft":false,"unlisted":false,"editUrl":"https://github.com/osodevops/kafka-backup-docs/tree/main/docs/docs/troubleshooting/common-errors.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Common Errors","description":"Troubleshooting common OSO Kafka Backup errors","sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Zero-Copy Optimization","permalink":"/architecture/zero-copy-optimization"},"next":{"title":"Performance Issues","permalink":"/troubleshooting/performance-issues"}}');var i=r(4848),o=r(8453);const a={title:"Common Errors",description:"Troubleshooting common OSO Kafka Backup errors",sidebar_position:1},c="Common Errors",t={},l=[{value:"Connection Errors",id:"connection-errors",level:2},{value:"Failed to Connect to Kafka",id:"failed-to-connect-to-kafka",level:3},{value:"SSL Handshake Failed",id:"ssl-handshake-failed",level:3},{value:"SASL Authentication Failed",id:"sasl-authentication-failed",level:3},{value:"Storage Errors",id:"storage-errors",level:2},{value:"Access Denied to S3",id:"access-denied-to-s3",level:3},{value:"Bucket Not Found",id:"bucket-not-found",level:3},{value:"Azure Storage Error",id:"azure-storage-error",level:3},{value:"Backup Errors",id:"backup-errors",level:2},{value:"Topic Not Found",id:"topic-not-found",level:3},{value:"Not Authorized to Access Topic",id:"not-authorized-to-access-topic",level:3},{value:"Checkpoint Write Failed",id:"checkpoint-write-failed",level:3},{value:"Restore Errors",id:"restore-errors",level:2},{value:"Backup Not Found",id:"backup-not-found",level:3},{value:"Invalid Time Range",id:"invalid-time-range",level:3},{value:"Topic Already Exists",id:"topic-already-exists",level:3},{value:"Schema ID Not Found",id:"schema-id-not-found",level:3},{value:"Offset Errors",id:"offset-errors",level:2},{value:"Consumer Group Not Found",id:"consumer-group-not-found",level:3},{value:"Offset Out of Range",id:"offset-out-of-range",level:3},{value:"Offset Header Not Found",id:"offset-header-not-found",level:3},{value:"Configuration Errors",id:"configuration-errors",level:2},{value:"Invalid Configuration",id:"invalid-configuration",level:3},{value:"Missing Required Field",id:"missing-required-field",level:3},{value:"Environment Variable Not Set",id:"environment-variable-not-set",level:3},{value:"Validation Errors",id:"validation-errors",level:2},{value:"Backup Validation Failed",id:"backup-validation-failed",level:3},{value:"Restore Validation Failed",id:"restore-validation-failed",level:3},{value:"Quick Reference",id:"quick-reference",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"common-errors",children:"Common Errors"})}),"\n",(0,i.jsx)(n.p,{children:"This guide covers the most frequently encountered errors and their solutions."}),"\n",(0,i.jsx)(n.h2,{id:"connection-errors",children:"Connection Errors"}),"\n",(0,i.jsx)(n.h3,{id:"failed-to-connect-to-kafka",children:"Failed to Connect to Kafka"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Failed to connect to Kafka broker\nCause: Connection refused (os error 111)\nBroker: kafka:9092\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Causes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Broker is not running"}),"\n",(0,i.jsx)(n.li,{children:"Wrong hostname/port"}),"\n",(0,i.jsx)(n.li,{children:"Network/firewall issue"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Test connectivity\nnc -zv kafka 9092\n\n# Check if Kafka is running\nkafka-broker-api-versions --bootstrap-server kafka:9092\n\n# Verify DNS resolution\nnslookup kafka\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Fix: Correct broker addresses\nsource:\n  bootstrap_servers:\n    - kafka-0.kafka.svc.cluster.local:9092\n    - kafka-1.kafka.svc.cluster.local:9092\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ssl-handshake-failed",children:"SSL Handshake Failed"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: SSL handshake failed\nCause: certificate verify failed\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Causes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Missing CA certificate"}),"\n",(0,i.jsx)(n.li,{children:"Expired certificate"}),"\n",(0,i.jsx)(n.li,{children:"Hostname mismatch"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Verify certificate\nopenssl s_client -connect kafka:9093 -CAfile ca.crt\n\n# Check certificate expiry\nopenssl x509 -in ca.crt -noout -dates\n\n# Check hostname in certificate\nopenssl x509 -in server.crt -noout -text | grep -A1 "Subject Alternative Name"\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Fix: Provide correct CA certificate\nsource:\n  security:\n    security_protocol: SSL\n    ssl_ca_location: /certs/ca.crt\n"})}),"\n",(0,i.jsx)(n.h3,{id:"sasl-authentication-failed",children:"SASL Authentication Failed"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: SASL authentication failed\nCause: Authentication failed during SASL handshake\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Causes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Wrong username/password"}),"\n",(0,i.jsx)(n.li,{children:"User doesn't exist"}),"\n",(0,i.jsx)(n.li,{children:"Wrong SASL mechanism"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Test authentication with kafka-console-consumer\nkafka-console-consumer \\\n  --bootstrap-server kafka:9092 \\\n  --consumer.config client.properties \\\n  --topic test --max-messages 1\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Fix: Verify credentials\nsource:\n  security:\n    security_protocol: SASL_SSL\n    sasl_mechanism: SCRAM-SHA-256  # Ensure correct mechanism\n    sasl_username: backup-user\n    sasl_password: ${KAFKA_PASSWORD}  # Check environment variable\n"})}),"\n",(0,i.jsx)(n.h2,{id:"storage-errors",children:"Storage Errors"}),"\n",(0,i.jsx)(n.h3,{id:"access-denied-to-s3",children:"Access Denied to S3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Access denied to S3 bucket\nBucket: my-kafka-backups\nOperation: PutObject\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Causes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Missing IAM permissions"}),"\n",(0,i.jsx)(n.li,{children:"Wrong credentials"}),"\n",(0,i.jsx)(n.li,{children:"Bucket policy restriction"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Test AWS credentials\naws sts get-caller-identity\n\n# Test bucket access\naws s3 ls s3://my-kafka-backups/\n\n# Check bucket policy\naws s3api get-bucket-policy --bucket my-kafka-backups\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'// Fix: Add IAM policy\n{\n  "Version": "2012-10-17",\n  "Statement": [\n    {\n      "Effect": "Allow",\n      "Action": [\n        "s3:PutObject",\n        "s3:GetObject",\n        "s3:ListBucket",\n        "s3:DeleteObject"\n      ],\n      "Resource": [\n        "arn:aws:s3:::my-kafka-backups",\n        "arn:aws:s3:::my-kafka-backups/*"\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"bucket-not-found",children:"Bucket Not Found"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Bucket not found\nBucket: my-kafka-backups\nRegion: us-west-2\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Verify bucket exists\naws s3api head-bucket --bucket my-kafka-backups\n\n# Check region\naws s3api get-bucket-location --bucket my-kafka-backups\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Fix: Correct bucket and region\nstorage:\n  backend: s3\n  bucket: my-kafka-backups\n  region: us-east-1  # Correct region\n"})}),"\n",(0,i.jsx)(n.h3,{id:"azure-storage-error",children:"Azure Storage Error"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Azure storage operation failed\nContainer: kafka-backups\nStatus: 403 Forbidden\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Test Azure credentials\naz storage container list --account-name mystorageaccount\n\n# Check connection string\naz storage container show --name kafka-backups --account-name mystorageaccount\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Fix: Verify connection string\nstorage:\n  backend: azure\n  container: kafka-backups\n  connection_string: ${AZURE_STORAGE_CONNECTION_STRING}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"backup-errors",children:"Backup Errors"}),"\n",(0,i.jsx)(n.h3,{id:"topic-not-found",children:"Topic Not Found"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Topic not found\nTopic: orders\nCluster: kafka:9092\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Causes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Topic doesn't exist"}),"\n",(0,i.jsx)(n.li,{children:"ACL restriction"}),"\n",(0,i.jsx)(n.li,{children:"Typo in topic name"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List topics\nkafka-topics --bootstrap-server kafka:9092 --list\n\n# Check if topic exists\nkafka-topics --bootstrap-server kafka:9092 --describe --topic orders\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# Fix: Use correct topic pattern\nsource:\n  topics:\n    include:\n      - orders  # Exact name\n      - "orders-*"  # Or pattern\n'})}),"\n",(0,i.jsx)(n.h3,{id:"not-authorized-to-access-topic",children:"Not Authorized to Access Topic"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Not authorized to access topic\nTopic: production-orders\nUser: backup-user\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check ACLs\nkafka-acls --bootstrap-server kafka:9092 \\\n  --list --topic production-orders\n\n# Add read permission\nkafka-acls --bootstrap-server kafka:9092 \\\n  --add --allow-principal User:backup-user \\\n  --operation Read --operation Describe \\\n  --topic production-orders\n"})}),"\n",(0,i.jsx)(n.h3,{id:"checkpoint-write-failed",children:"Checkpoint Write Failed"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Failed to write checkpoint\nPath: s3://bucket/backups/checkpoint.json\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Causes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Storage permission issue"}),"\n",(0,i.jsx)(n.li,{children:"Disk full"}),"\n",(0,i.jsx)(n.li,{children:"Network timeout"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Test write access\necho "test" | aws s3 cp - s3://bucket/backups/test.txt\naws s3 rm s3://bucket/backups/test.txt\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Fix: Adjust checkpoint settings\nbackup:\n  checkpoint_interval_secs: 60  # Less frequent\n  checkpoint_retries: 3\n"})}),"\n",(0,i.jsx)(n.h2,{id:"restore-errors",children:"Restore Errors"}),"\n",(0,i.jsx)(n.h3,{id:"backup-not-found",children:"Backup Not Found"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Backup not found\nBackup ID: production-backup-20241201\nPath: s3://bucket/backups\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List available backups\nkafka-backup list --path s3://bucket/backups\n\n# Check exact backup ID\nkafka-backup list --path s3://bucket/backups --format json | jq '.backups[].backup_id'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"invalid-time-range",children:"Invalid Time Range"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Invalid time range for PITR\nStart: 1701388800000\nEnd: 1701302400000\nReason: Start time is after end time\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Fix: Correct time order\nrestore:\n  time_window_start: 1701302400000  # Earlier time\n  time_window_end: 1701388800000    # Later time\n"})}),"\n",(0,i.jsx)(n.h3,{id:"topic-already-exists",children:"Topic Already Exists"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Topic already exists with different configuration\nTopic: orders\nExisting partitions: 12\nBackup partitions: 6\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Option 1: Use topic mapping\nrestore:\n  topic_mapping:\n    orders: restored-orders\n\n# Option 2: Delete existing topic first\n# (manual step before restore)\n\n# Option 3: Allow partition mismatch\nrestore:\n  allow_partition_mismatch: true\n"})}),"\n",(0,i.jsx)(n.h3,{id:"schema-id-not-found",children:"Schema ID Not Found"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Schema ID not found\nSchema ID: 42\nTopic: orders\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Causes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Schema Registry not backed up"}),"\n",(0,i.jsx)(n.li,{children:"Schema deleted"}),"\n",(0,i.jsx)(n.li,{children:"Wrong Schema Registry URL"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check if schema exists\ncurl https://schema-registry:8081/schemas/ids/42\n\n# List all schemas\ncurl https://schema-registry:8081/subjects\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Fix: Enable Schema Registry sync (Enterprise)\nenterprise:\n  schema_registry:\n    enabled: true\n    url: https://schema-registry:8081\n"})}),"\n",(0,i.jsx)(n.h2,{id:"offset-errors",children:"Offset Errors"}),"\n",(0,i.jsx)(n.h3,{id:"consumer-group-not-found",children:"Consumer Group Not Found"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Consumer group not found\nGroup: order-processor\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List consumer groups\nkafka-consumer-groups --bootstrap-server kafka:9092 --list\n\n# Describe group\nkafka-consumer-groups --bootstrap-server kafka:9092 \\\n  --describe --group order-processor\n"})}),"\n",(0,i.jsx)(n.h3,{id:"offset-out-of-range",children:"Offset Out of Range"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Offset out of range\nTopic: orders\nPartition: 0\nRequested: 50000\nAvailable: 0-45000\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Causes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Data retention cleaned old messages"}),"\n",(0,i.jsx)(n.li,{children:"PITR window mismatch"}),"\n",(0,i.jsx)(n.li,{children:"Wrong offset mapping"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check available offsets\nkafka-run-class kafka.tools.GetOffsetShell \\\n  --broker-list kafka:9092 \\\n  --topic orders\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Fix: Use timestamp-based reset\noffset_reset:\n  strategy: timestamp\n  timestamp: 1701388800000  # Within available range\n"})}),"\n",(0,i.jsx)(n.h3,{id:"offset-header-not-found",children:"Offset Header Not Found"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Original offset header not found\nTopic: orders\nExpected header: x-kafka-backup-offset\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Causes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Backup didn't include headers"}),"\n",(0,i.jsx)(n.li,{children:"Headers stripped during processing"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Fix: Re-backup with headers enabled\nbackup:\n  include_offset_headers: true\n\n# Alternative: Use timestamp-based offset reset\noffset_reset:\n  strategy: timestamp\n"})}),"\n",(0,i.jsx)(n.h2,{id:"configuration-errors",children:"Configuration Errors"}),"\n",(0,i.jsx)(n.h3,{id:"invalid-configuration",children:"Invalid Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Invalid configuration\nField: compression_level\nValue: 25\nValid range: 1-22\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Check the ",(0,i.jsx)(n.a,{href:"../reference/config-yaml",children:"Configuration Reference"})," for valid values."]}),"\n",(0,i.jsx)(n.h3,{id:"missing-required-field",children:"Missing Required Field"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Missing required field\nField: source.bootstrap_servers\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Fix: Add required field\nsource:\n  bootstrap_servers:\n    - kafka:9092\n"})}),"\n",(0,i.jsx)(n.h3,{id:"environment-variable-not-set",children:"Environment Variable Not Set"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Environment variable not set\nVariable: KAFKA_PASSWORD\nLocation: source.security.sasl_password\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Set the environment variable\nexport KAFKA_PASSWORD="your-password"\n\n# Or use a different approach\nsource:\n  security:\n    sasl_password: "direct-value"  # Not recommended\n'})}),"\n",(0,i.jsx)(n.h2,{id:"validation-errors",children:"Validation Errors"}),"\n",(0,i.jsx)(n.h3,{id:"backup-validation-failed",children:"Backup Validation Failed"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Backup validation failed\nBackup ID: my-backup\nReason: Checksum mismatch in segment-0005.dat\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Causes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Corrupted storage"}),"\n",(0,i.jsx)(n.li,{children:"Incomplete upload"}),"\n",(0,i.jsx)(n.li,{children:"Storage system issue"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run deep validation\nkafka-backup validate \\\n  --path s3://bucket/backups \\\n  --backup-id my-backup \\\n  --deep\n\n# Re-run backup\nkafka-backup backup --config backup.yaml --force\n"})}),"\n",(0,i.jsx)(n.h3,{id:"restore-validation-failed",children:"Restore Validation Failed"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: Restore validation failed\nReason: Target cluster unreachable\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Validate configuration first\nkafka-backup validate-restore --config restore.yaml\n\n# Check target connectivity\nkafka-broker-api-versions --bootstrap-server target-kafka:9092\n"})}),"\n",(0,i.jsx)(n.h2,{id:"quick-reference",children:"Quick Reference"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Error"}),(0,i.jsx)(n.th,{children:"Likely Cause"}),(0,i.jsx)(n.th,{children:"First Step"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Connection refused"}),(0,i.jsx)(n.td,{children:"Broker down"}),(0,i.jsx)(n.td,{children:"Check broker status"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"SSL handshake failed"}),(0,i.jsx)(n.td,{children:"Certificate issue"}),(0,i.jsx)(n.td,{children:"Verify certificates"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"SASL auth failed"}),(0,i.jsx)(n.td,{children:"Wrong credentials"}),(0,i.jsx)(n.td,{children:"Test with console tools"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Access denied (S3)"}),(0,i.jsx)(n.td,{children:"IAM permissions"}),(0,i.jsx)(n.td,{children:"Check IAM policy"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Topic not found"}),(0,i.jsx)(n.td,{children:"ACL or typo"}),(0,i.jsx)(n.td,{children:"List topics"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Backup not found"}),(0,i.jsx)(n.td,{children:"Wrong path/ID"}),(0,i.jsx)(n.td,{children:"List backups"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Schema ID not found"}),(0,i.jsx)(n.td,{children:"SR not backed up"}),(0,i.jsx)(n.td,{children:"Enable SR sync"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./performance-issues",children:"Performance Issues"})," - Slow backup/restore"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./offset-discontinuity",children:"Offset Discontinuity"})," - Offset problems"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./debug-mode",children:"Debug Mode"})," - Enable verbose logging"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./support",children:"Support"})," - Get help"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>c});var s=r(6540);const i={},o=s.createContext(i);function a(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);