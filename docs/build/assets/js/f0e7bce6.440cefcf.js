"use strict";(globalThis.webpackChunkkafka_backup_docs=globalThis.webpackChunkkafka_backup_docs||[]).push([[5725],{7932:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"getting-started/cli-basics","title":"CLI Basics","description":"Learn the OSO Kafka Backup command-line interface - commands, flags, and common operations","source":"@site/docs/getting-started/cli-basics.md","sourceDirName":"getting-started","slug":"/getting-started/cli-basics","permalink":"/getting-started/cli-basics","draft":false,"unlisted":false,"editUrl":"https://github.com/osodevops/kafka-backup-docs/tree/main/docs/docs/getting-started/cli-basics.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"CLI Basics","description":"Learn the OSO Kafka Backup command-line interface - commands, flags, and common operations","sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"5-Minute Quickstart","permalink":"/getting-started/quickstart"},"next":{"title":"First Backup Tutorial","permalink":"/getting-started/first-backup"}}');var t=n(4848),a=n(8453);const i={title:"CLI Basics",description:"Learn the OSO Kafka Backup command-line interface - commands, flags, and common operations",sidebar_position:3},d="CLI Basics",c={},l=[{value:"Global Options",id:"global-options",level:2},{value:"Command Overview",id:"command-overview",level:2},{value:"Core Commands",id:"core-commands",level:2},{value:"backup",id:"backup",level:3},{value:"restore",id:"restore",level:3},{value:"list",id:"list",level:3},{value:"status",id:"status",level:3},{value:"describe",id:"describe",level:3},{value:"validate",id:"validate",level:3},{value:"validate-restore",id:"validate-restore",level:3},{value:"Offset Management Commands",id:"offset-management-commands",level:2},{value:"show-offset-mapping",id:"show-offset-mapping",level:3},{value:"offset-reset",id:"offset-reset",level:3},{value:"offset-reset-bulk",id:"offset-reset-bulk",level:3},{value:"offset-rollback",id:"offset-rollback",level:3},{value:"three-phase-restore",id:"three-phase-restore",level:3},{value:"Common Workflows",id:"common-workflows",level:2},{value:"Daily Backup Verification",id:"daily-backup-verification",level:3},{value:"Pre-Migration Offset Snapshot",id:"pre-migration-offset-snapshot",level:3},{value:"Disaster Recovery Restore",id:"disaster-recovery-restore",level:3},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"cli-basics",children:"CLI Basics"})}),"\n",(0,t.jsx)(s.p,{children:"OSO Kafka Backup provides a powerful command-line interface with 12 commands for backup, restore, and offset management operations."}),"\n",(0,t.jsx)(s.h2,{id:"global-options",children:"Global Options"}),"\n",(0,t.jsx)(s.p,{children:"All commands support these global options:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Option"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-v, --verbose"})}),(0,t.jsxs)(s.td,{children:["Enable verbose logging (use ",(0,t.jsx)(s.code,{children:"-vv"})," for trace level)"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"--help"})}),(0,t.jsx)(s.td,{children:"Show help for any command"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"--version"})}),(0,t.jsx)(s.td,{children:"Show version information"})]})]})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Enable debug logging\nkafka-backup -v backup --config backup.yaml\n\n# Enable trace logging (very verbose)\nkafka-backup -vv backup --config backup.yaml\n"})}),"\n",(0,t.jsx)(s.h2,{id:"command-overview",children:"Command Overview"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Command"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"backup"})}),(0,t.jsx)(s.td,{children:"Run a backup operation"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"restore"})}),(0,t.jsx)(s.td,{children:"Restore data from a backup"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"list"})}),(0,t.jsx)(s.td,{children:"List available backups"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"status"})}),(0,t.jsx)(s.td,{children:"Show backup status and statistics"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"describe"})}),(0,t.jsx)(s.td,{children:"Show detailed backup manifest"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"validate"})}),(0,t.jsx)(s.td,{children:"Validate backup integrity"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"validate-restore"})}),(0,t.jsx)(s.td,{children:"Validate restore configuration (dry-run)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"show-offset-mapping"})}),(0,t.jsx)(s.td,{children:"Display offset mapping for consumer groups"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"offset-reset"})}),(0,t.jsx)(s.td,{children:"Generate or execute offset reset plans"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"offset-reset-bulk"})}),(0,t.jsx)(s.td,{children:"Parallel bulk offset reset"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"offset-rollback"})}),(0,t.jsx)(s.td,{children:"Snapshot and rollback consumer offsets"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"three-phase-restore"})}),(0,t.jsx)(s.td,{children:"Complete restore with automatic offset reset"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"core-commands",children:"Core Commands"}),"\n",(0,t.jsx)(s.h3,{id:"backup",children:"backup"}),"\n",(0,t.jsx)(s.p,{children:"Run a backup operation from a Kafka cluster to storage."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup backup --config <path>\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-c, --config"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Path to backup configuration YAML"})]})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup backup --config /etc/kafka-backup/backup.yaml\n"})}),"\n",(0,t.jsx)(s.h3,{id:"restore",children:"restore"}),"\n",(0,t.jsx)(s.p,{children:"Restore data from a backup to a Kafka cluster."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup restore --config <path>\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-c, --config"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Path to restore configuration YAML"})]})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup restore --config /etc/kafka-backup/restore.yaml\n"})}),"\n",(0,t.jsx)(s.h3,{id:"list",children:"list"}),"\n",(0,t.jsx)(s.p,{children:"List available backups in a storage location."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup list --path <path> [--backup-id <id>]\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-p, --path"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Path to storage location"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-b, --backup-id"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Show details for specific backup"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Examples:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# List all backups\nkafka-backup list --path /var/lib/kafka-backup/data\n\n# List all backups from S3\nkafka-backup list --path s3://my-bucket/backups\n\n# Show details for a specific backup\nkafka-backup list --path /data --backup-id daily-backup-001\n"})}),"\n",(0,t.jsx)(s.h3,{id:"status",children:"status"}),"\n",(0,t.jsx)(s.p,{children:"Show status and statistics of a backup."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup status --path <path> --backup-id <id> [--db-path <path>]\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-p, --path"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Path to storage location"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-b, --backup-id"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Backup ID to show status for"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"--db-path"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Path to offset database for progress tracking"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup status --path /data --backup-id backup-001\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output includes:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Manifest information (created date, source cluster)"}),"\n",(0,t.jsx)(s.li,{children:"Topic, partition, and segment counts"}),"\n",(0,t.jsx)(s.li,{children:"Record and size statistics"}),"\n",(0,t.jsx)(s.li,{children:"Compression ratio"}),"\n",(0,t.jsx)(s.li,{children:"Offset tracking status per partition"}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"describe",children:"describe"}),"\n",(0,t.jsx)(s.p,{children:"Show detailed backup manifest information."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup describe --path <path> --backup-id <id> [--format <format>]\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-p, --path"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Path to storage location"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-b, --backup-id"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Backup ID to describe"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-f, --format"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsxs)(s.td,{children:["Output format: ",(0,t.jsx)(s.code,{children:"text"})," (default), ",(0,t.jsx)(s.code,{children:"json"}),", ",(0,t.jsx)(s.code,{children:"yaml"})]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Examples:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Text output (default)\nkafka-backup describe --path /data --backup-id backup-001\n\n# JSON output for scripting\nkafka-backup describe --path /data --backup-id backup-001 --format json\n\n# YAML output\nkafka-backup describe --path /data --backup-id backup-001 -f yaml\n"})}),"\n",(0,t.jsx)(s.h3,{id:"validate",children:"validate"}),"\n",(0,t.jsx)(s.p,{children:"Validate backup integrity."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup validate --path <path> --backup-id <id> [--deep]\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-p, --path"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Path to storage location"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-b, --backup-id"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Backup ID to validate"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"--deep"})}),(0,t.jsx)(s.td,{children:"bool"}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Perform deep validation (read all segments)"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Examples:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Quick validation (check existence and metadata)\nkafka-backup validate --path /data --backup-id backup-001\n\n# Deep validation (read and verify all segments)\nkafka-backup validate --path /data --backup-id backup-001 --deep\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Validation Report:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Segments checked/valid/missing/corrupted"}),"\n",(0,t.jsx)(s.li,{children:"Records validated"}),"\n",(0,t.jsx)(s.li,{children:"Issues found with details"}),"\n",(0,t.jsx)(s.li,{children:"Final result: VALID or INVALID"}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"validate-restore",children:"validate-restore"}),"\n",(0,t.jsx)(s.p,{children:"Validate a restore configuration without executing it."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup validate-restore --config <path> [--format <format>]\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-c, --config"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Path to restore configuration"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-f, --format"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsxs)(s.td,{children:["Output format: ",(0,t.jsx)(s.code,{children:"text"}),", ",(0,t.jsx)(s.code,{children:"json"}),", ",(0,t.jsx)(s.code,{children:"yaml"})]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup validate-restore --config restore.yaml --format json\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Report includes:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Restore status (VALID or INVALID)"}),"\n",(0,t.jsx)(s.li,{children:"Topics and segments to process"}),"\n",(0,t.jsx)(s.li,{children:"Records and bytes to restore"}),"\n",(0,t.jsx)(s.li,{children:"Time range"}),"\n",(0,t.jsx)(s.li,{children:"Errors and warnings"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"offset-management-commands",children:"Offset Management Commands"}),"\n",(0,t.jsx)(s.h3,{id:"show-offset-mapping",children:"show-offset-mapping"}),"\n",(0,t.jsx)(s.p,{children:"Display offset mapping for a backup (useful for consumer group reset)."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup show-offset-mapping --path <path> --backup-id <id> [--format <format>]\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-p, --path"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Path to storage location"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-b, --backup-id"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Backup ID"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-f, --format"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsxs)(s.td,{children:["Output: ",(0,t.jsx)(s.code,{children:"text"}),", ",(0,t.jsx)(s.code,{children:"json"}),", ",(0,t.jsx)(s.code,{children:"yaml"}),", ",(0,t.jsx)(s.code,{children:"csv"})]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup show-offset-mapping --path /data --backup-id backup-001 --format csv\n"})}),"\n",(0,t.jsx)(s.h3,{id:"offset-reset",children:"offset-reset"}),"\n",(0,t.jsx)(s.p,{children:"Generate or execute consumer group offset reset plans."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Subcommands:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Generate a reset plan\nkafka-backup offset-reset plan \\\n  --path <path> \\\n  --backup-id <id> \\\n  --groups <group1,group2> \\\n  --bootstrap-servers <servers>\n\n# Execute a reset plan\nkafka-backup offset-reset execute \\\n  --path <path> \\\n  --backup-id <id> \\\n  --groups <group1> \\\n  --bootstrap-servers <servers>\n\n# Generate a shell script for manual execution\nkafka-backup offset-reset script \\\n  --path <path> \\\n  --backup-id <id> \\\n  --groups <group1> \\\n  --bootstrap-servers <servers> \\\n  --output reset.sh\n"})}),"\n",(0,t.jsx)(s.h3,{id:"offset-reset-bulk",children:"offset-reset-bulk"}),"\n",(0,t.jsx)(s.p,{children:"Execute bulk parallel offset reset (50x faster than sequential)."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup offset-reset-bulk \\\n  --path <path> \\\n  --backup-id <id> \\\n  --groups <groups> \\\n  --bootstrap-servers <servers> \\\n  [--max-concurrent <num>] \\\n  [--max-retries <num>]\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Default"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"--max-concurrent"})}),(0,t.jsx)(s.td,{children:"int"}),(0,t.jsx)(s.td,{children:"50"}),(0,t.jsx)(s.td,{children:"Maximum concurrent requests"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"--max-retries"})}),(0,t.jsx)(s.td,{children:"int"}),(0,t.jsx)(s.td,{children:"3"}),(0,t.jsx)(s.td,{children:"Maximum retry attempts"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"--security-protocol"})}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"PLAINTEXT"}),(0,t.jsx)(s.td,{children:"Security protocol"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"offset-rollback",children:"offset-rollback"}),"\n",(0,t.jsx)(s.p,{children:"Snapshot and rollback consumer group offsets."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Subcommands:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'# Create a snapshot before making changes\nkafka-backup offset-rollback snapshot \\\n  --path /data/snapshots \\\n  --groups my-group \\\n  --bootstrap-servers localhost:9092 \\\n  --description "Before migration"\n\n# List available snapshots\nkafka-backup offset-rollback list --path /data/snapshots\n\n# Show snapshot details\nkafka-backup offset-rollback show \\\n  --path /data/snapshots \\\n  --snapshot-id snapshot-20241203-100000\n\n# Rollback to a previous snapshot\nkafka-backup offset-rollback rollback \\\n  --path /data/snapshots \\\n  --snapshot-id snapshot-20241203-100000 \\\n  --bootstrap-servers localhost:9092\n\n# Verify offsets match a snapshot\nkafka-backup offset-rollback verify \\\n  --path /data/snapshots \\\n  --snapshot-id snapshot-20241203-100000 \\\n  --bootstrap-servers localhost:9092\n\n# Delete a snapshot\nkafka-backup offset-rollback delete \\\n  --path /data/snapshots \\\n  --snapshot-id snapshot-20241203-100000\n'})}),"\n",(0,t.jsx)(s.h3,{id:"three-phase-restore",children:"three-phase-restore"}),"\n",(0,t.jsx)(s.p,{children:"Run a complete three-phase restore with automatic offset reset."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kafka-backup three-phase-restore --config <path>\n"})}),"\n",(0,t.jsx)(s.p,{children:"This command performs:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Phase 1"}),": Collect offset headers from source backup"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Phase 2"}),": Restore data to target cluster"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Phase 3"}),": Reset consumer group offsets"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"common-workflows",children:"Common Workflows"}),"\n",(0,t.jsx)(s.h3,{id:"daily-backup-verification",children:"Daily Backup Verification"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'#!/bin/bash\n# Verify yesterday\'s backup\n\nBACKUP_PATH="/var/lib/kafka-backup/data"\nBACKUP_ID="daily-$(date -d yesterday +%Y%m%d)"\n\n# Quick validation\nkafka-backup validate --path "$BACKUP_PATH" --backup-id "$BACKUP_ID"\n\n# Get backup statistics\nkafka-backup describe --path "$BACKUP_PATH" --backup-id "$BACKUP_ID" --format json\n'})}),"\n",(0,t.jsx)(s.h3,{id:"pre-migration-offset-snapshot",children:"Pre-Migration Offset Snapshot"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'#!/bin/bash\n# Snapshot offsets before migration\n\nkafka-backup offset-rollback snapshot \\\n  --path /data/snapshots \\\n  --groups "app-consumer,analytics-consumer" \\\n  --bootstrap-servers broker-1:9092,broker-2:9092 \\\n  --description "Pre-migration snapshot"\n'})}),"\n",(0,t.jsx)(s.h3,{id:"disaster-recovery-restore",children:"Disaster Recovery Restore"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"#!/bin/bash\n# Full disaster recovery restore\n\n# 1. Validate the backup\nkafka-backup validate --path s3://backups/kafka --backup-id latest --deep\n\n# 2. Validate restore config\nkafka-backup validate-restore --config dr-restore.yaml\n\n# 3. Execute three-phase restore\nkafka-backup three-phase-restore --config dr-restore.yaml\n"})}),"\n",(0,t.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.a,{href:"./first-backup",children:"First Backup Tutorial"})})," - Step-by-step backup walkthrough"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.a,{href:"../reference/cli-reference",children:"CLI Reference"})})," - Complete command documentation"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.a,{href:"../reference/config-yaml",children:"Configuration Reference"})})," - All configuration options"]}),"\n"]})]})}function o(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>d});var r=n(6540);const t={},a=r.createContext(t);function i(e){const s=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(a.Provider,{value:s},e.children)}}}]);