"use strict";(globalThis.webpackChunkkafka_backup_docs=globalThis.webpackChunkkafka_backup_docs||[]).push([[1361],{8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>c});var s=n(6540);const a={},r=s.createContext(a);function i(e){const t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:t},e.children)}},8594:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"getting-started/quickstart","title":"5-Minute Quickstart","description":"Get your first Kafka backup running in under 5 minutes using Docker","source":"@site/docs/getting-started/quickstart.md","sourceDirName":"getting-started","slug":"/getting-started/quickstart","permalink":"/getting-started/quickstart","draft":false,"unlisted":false,"editUrl":"https://github.com/osodevops/kafka-backup-docs/tree/main/docs/docs/getting-started/quickstart.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"5-Minute Quickstart","description":"Get your first Kafka backup running in under 5 minutes using Docker","sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Getting Started","permalink":"/getting-started/"},"next":{"title":"CLI Basics","permalink":"/getting-started/cli-basics"}}');var a=n(4848),r=n(8453);const i={title:"5-Minute Quickstart",description:"Get your first Kafka backup running in under 5 minutes using Docker",sidebar_position:2},c="5-Minute Quickstart",o={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Start a Test Kafka Cluster",id:"step-1-start-a-test-kafka-cluster",level:2},{value:"Step 2: Create a Test Topic with Data",id:"step-2-create-a-test-topic-with-data",level:2},{value:"Step 3: Create Backup Configuration",id:"step-3-create-backup-configuration",level:2},{value:"Step 4: Run the Backup",id:"step-4-run-the-backup",level:2},{value:"Step 5: Verify the Backup",id:"step-5-verify-the-backup",level:2},{value:"Step 6: Simulate Disaster (Delete the Topic)",id:"step-6-simulate-disaster-delete-the-topic",level:2},{value:"Step 7: Restore from Backup",id:"step-7-restore-from-backup",level:2},{value:"Step 8: Verify the Restore",id:"step-8-verify-the-restore",level:2},{value:"What You&#39;ve Learned",id:"what-youve-learned",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Cleanup",id:"cleanup",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"5-minute-quickstart",children:"5-Minute Quickstart"})}),"\n",(0,a.jsx)(t.p,{children:"This guide will have you backing up and restoring Kafka topics in under 5 minutes using Docker."}),"\n",(0,a.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Docker and Docker Compose installed"}),"\n",(0,a.jsx)(t.li,{children:"A running Kafka cluster (we'll provide a test setup)"}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"step-1-start-a-test-kafka-cluster",children:"Step 1: Start a Test Kafka Cluster"}),"\n",(0,a.jsx)(t.p,{children:"If you don't have a Kafka cluster, start one with Docker Compose:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-yaml",metastring:'title="docker-compose.yml"',children:"version: '3.8'\nservices:\n  kafka:\n    image: confluentinc/cp-kafka:7.5.0\n    hostname: kafka\n    ports:\n      - \"9092:9092\"\n    environment:\n      KAFKA_NODE_ID: 1\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT\n      KAFKA_LISTENERS: PLAINTEXT://0.0.0.0:9092,CONTROLLER://0.0.0.0:9093\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092\n      KAFKA_CONTROLLER_LISTENER_NAMES: CONTROLLER\n      KAFKA_CONTROLLER_QUORUM_VOTERS: 1@kafka:9093\n      KAFKA_PROCESS_ROLES: broker,controller\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      CLUSTER_ID: MkU3OEVBNTcwNTJENDM2Qk\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"docker-compose up -d\n"})}),"\n",(0,a.jsx)(t.h2,{id:"step-2-create-a-test-topic-with-data",children:"Step 2: Create a Test Topic with Data"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"# Create a topic\ndocker exec -it kafka kafka-topics --create \\\n  --topic test-topic \\\n  --bootstrap-server localhost:9092 \\\n  --partitions 3 \\\n  --replication-factor 1\n\n# Produce some test messages\ndocker exec -it kafka bash -c 'for i in {1..100}; do echo \"message-$i\"; done | kafka-console-producer --broker-list localhost:9092 --topic test-topic'\n\n# Verify messages\ndocker exec -it kafka kafka-console-consumer \\\n  --bootstrap-server localhost:9092 \\\n  --topic test-topic \\\n  --from-beginning \\\n  --max-messages 5\n"})}),"\n",(0,a.jsx)(t.h2,{id:"step-3-create-backup-configuration",children:"Step 3: Create Backup Configuration"}),"\n",(0,a.jsx)(t.p,{children:"Create a backup configuration file:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-yaml",metastring:'title="backup.yaml"',children:'mode: backup\nbackup_id: "quickstart-backup"\n\nsource:\n  bootstrap_servers:\n    - kafka:9092\n  topics:\n    include:\n      - test-topic\n\nstorage:\n  backend: filesystem\n  path: "/data/backups"\n\nbackup:\n  compression: zstd\n  compression_level: 3\n'})}),"\n",(0,a.jsx)(t.h2,{id:"step-4-run-the-backup",children:"Step 4: Run the Backup"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"# Create backup directory\nmkdir -p ./backups\n\n# Run the backup\ndocker run --rm \\\n  --network host \\\n  -v $(pwd)/backup.yaml:/config/backup.yaml \\\n  -v $(pwd)/backups:/data/backups \\\n  ghcr.io/osodevops/kafka-backup:latest \\\n  backup --config /config/backup.yaml\n"})}),"\n",(0,a.jsx)(t.p,{children:"You should see output like:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"[INFO] Starting backup: quickstart-backup\n[INFO] Connected to Kafka cluster\n[INFO] Backing up topic: test-topic (3 partitions)\n[INFO] Partition 0: 34 records backed up\n[INFO] Partition 1: 33 records backed up\n[INFO] Partition 2: 33 records backed up\n[INFO] Backup completed successfully\n[INFO] Total: 100 records, 2.4 KB compressed\n"})}),"\n",(0,a.jsx)(t.h2,{id:"step-5-verify-the-backup",children:"Step 5: Verify the Backup"}),"\n",(0,a.jsx)(t.p,{children:"List the backup:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"docker run --rm \\\n  -v $(pwd)/backups:/data/backups \\\n  ghcr.io/osodevops/kafka-backup:latest \\\n  list --path /data/backups\n"})}),"\n",(0,a.jsx)(t.p,{children:"Output:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"Available Backups:\n  quickstart-backup\n    Created: 2024-12-03T10:00:00Z\n    Topics: 1\n    Records: 100\n    Size: 2.4 KB (compressed)\n"})}),"\n",(0,a.jsx)(t.p,{children:"Get detailed backup info:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"docker run --rm \\\n  -v $(pwd)/backups:/data/backups \\\n  ghcr.io/osodevops/kafka-backup:latest \\\n  describe --path /data/backups --backup-id quickstart-backup\n"})}),"\n",(0,a.jsx)(t.h2,{id:"step-6-simulate-disaster-delete-the-topic",children:"Step 6: Simulate Disaster (Delete the Topic)"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"# Delete the topic\ndocker exec -it kafka kafka-topics --delete \\\n  --topic test-topic \\\n  --bootstrap-server localhost:9092\n\n# Verify it's gone\ndocker exec -it kafka kafka-topics --list \\\n  --bootstrap-server localhost:9092\n"})}),"\n",(0,a.jsx)(t.h2,{id:"step-7-restore-from-backup",children:"Step 7: Restore from Backup"}),"\n",(0,a.jsx)(t.p,{children:"Create a restore configuration:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-yaml",metastring:'title="restore.yaml"',children:'mode: restore\nbackup_id: "quickstart-backup"\n\ntarget:\n  bootstrap_servers:\n    - kafka:9092\n\nstorage:\n  backend: filesystem\n  path: "/data/backups"\n\nrestore:\n  dry_run: false\n'})}),"\n",(0,a.jsx)(t.p,{children:"Run the restore:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"docker run --rm \\\n  --network host \\\n  -v $(pwd)/restore.yaml:/config/restore.yaml \\\n  -v $(pwd)/backups:/data/backups \\\n  ghcr.io/osodevops/kafka-backup:latest \\\n  restore --config /config/restore.yaml\n"})}),"\n",(0,a.jsx)(t.h2,{id:"step-8-verify-the-restore",children:"Step 8: Verify the Restore"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"# Check the topic exists\ndocker exec -it kafka kafka-topics --list \\\n  --bootstrap-server localhost:9092\n\n# Verify the messages\ndocker exec -it kafka kafka-console-consumer \\\n  --bootstrap-server localhost:9092 \\\n  --topic test-topic \\\n  --from-beginning \\\n  --max-messages 5\n"})}),"\n",(0,a.jsx)(t.p,{children:"You should see your original messages restored."}),"\n",(0,a.jsx)(t.h2,{id:"what-youve-learned",children:"What You've Learned"}),"\n",(0,a.jsx)(t.p,{children:"In this quickstart, you:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"Created a Kafka topic with test data"}),"\n",(0,a.jsx)(t.li,{children:"Backed up the topic to local storage"}),"\n",(0,a.jsx)(t.li,{children:"Verified the backup contents"}),"\n",(0,a.jsx)(t.li,{children:"Simulated a disaster by deleting the topic"}),"\n",(0,a.jsx)(t.li,{children:"Restored the topic from backup"}),"\n",(0,a.jsx)(t.li,{children:"Verified the restored data"}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.a,{href:"./cli-basics",children:"CLI Basics"})})," - Learn all available commands"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.a,{href:"./first-backup",children:"First Backup Tutorial"})})," - More detailed walkthrough"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.a,{href:"../guides/backup-to-s3",children:"Backup to S3"})})," - Use cloud storage"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.a,{href:"../guides/restore-pitr",children:"Point-in-Time Recovery"})})," - Restore to specific timestamps"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.a,{href:"../operator",children:"Kubernetes Operator"})})," - Automated backups with CRDs"]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"cleanup",children:"Cleanup"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"# Stop and remove containers\ndocker-compose down -v\n\n# Remove backup files\nrm -rf ./backups\n"})})]})}function p(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);