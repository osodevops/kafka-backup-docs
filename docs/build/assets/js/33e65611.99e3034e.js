"use strict";(globalThis.webpackChunkkafka_backup_docs=globalThis.webpackChunkkafka_backup_docs||[]).push([[9851],{1898:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"reference/error-codes","title":"Error Codes","description":"OSO Kafka Backup error codes, messages, and troubleshooting","source":"@site/docs/reference/error-codes.md","sourceDirName":"reference","slug":"/reference/error-codes","permalink":"/reference/error-codes","draft":false,"unlisted":false,"editUrl":"https://github.com/osodevops/kafka-backup-docs/tree/main/docs/docs/reference/error-codes.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Error Codes","description":"OSO Kafka Backup error codes, messages, and troubleshooting","sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Storage Format","permalink":"/reference/storage-format"},"next":{"title":"Metrics Reference","permalink":"/reference/metrics"}}');var i=s(4848),l=s(8453);const c={title:"Error Codes",description:"OSO Kafka Backup error codes, messages, and troubleshooting",sidebar_position:4},d="Error Codes",a={},o=[{value:"Error Categories",id:"error-categories",level:2},{value:"Configuration Errors",id:"configuration-errors",level:2},{value:"CONFIG_PARSE_ERROR",id:"config_parse_error",level:3},{value:"CONFIG_MISSING_REQUIRED",id:"config_missing_required",level:3},{value:"CONFIG_INVALID_VALUE",id:"config_invalid_value",level:3},{value:"CONFIG_INVALID_TOPICS",id:"config_invalid_topics",level:3},{value:"Kafka Errors",id:"kafka-errors",level:2},{value:"KAFKA_CONNECTION_FAILED",id:"kafka_connection_failed",level:3},{value:"KAFKA_AUTH_FAILED",id:"kafka_auth_failed",level:3},{value:"KAFKA_SSL_ERROR",id:"kafka_ssl_error",level:3},{value:"KAFKA_TOPIC_NOT_FOUND",id:"kafka_topic_not_found",level:3},{value:"KAFKA_UNAUTHORIZED",id:"kafka_unauthorized",level:3},{value:"Storage Errors",id:"storage-errors",level:2},{value:"STORAGE_ACCESS_DENIED",id:"storage_access_denied",level:3},{value:"STORAGE_NOT_FOUND",id:"storage_not_found",level:3},{value:"STORAGE_QUOTA_EXCEEDED",id:"storage_quota_exceeded",level:3},{value:"STORAGE_CREDENTIALS_INVALID",id:"storage_credentials_invalid",level:3},{value:"Validation Errors",id:"validation-errors",level:2},{value:"VALIDATION_BACKUP_NOT_FOUND",id:"validation_backup_not_found",level:3},{value:"VALIDATION_MANIFEST_CORRUPT",id:"validation_manifest_corrupt",level:3},{value:"VALIDATION_SEGMENT_CORRUPT",id:"validation_segment_corrupt",level:3},{value:"VALIDATION_PITR_INVALID",id:"validation_pitr_invalid",level:3},{value:"Offset Errors",id:"offset-errors",level:2},{value:"OFFSET_RESET_FAILED",id:"offset_reset_failed",level:3},{value:"OFFSET_SNAPSHOT_NOT_FOUND",id:"offset_snapshot_not_found",level:3},{value:"OFFSET_MAPPING_MISSING",id:"offset_mapping_missing",level:3},{value:"I/O Errors",id:"io-errors",level:2},{value:"IO_READ_ERROR",id:"io_read_error",level:3},{value:"IO_WRITE_ERROR",id:"io_write_error",level:3},{value:"Exit Codes",id:"exit-codes",level:2},{value:"Getting Help",id:"getting-help",level:2}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"error-codes",children:"Error Codes"})}),"\n",(0,i.jsx)(n.p,{children:"This reference documents all error types in OSO Kafka Backup with causes and solutions."}),"\n",(0,i.jsx)(n.h2,{id:"error-categories",children:"Error Categories"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Category"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"CONFIG"})}),(0,i.jsx)(n.td,{children:"Configuration file errors"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"KAFKA"})}),(0,i.jsx)(n.td,{children:"Kafka connection and protocol errors"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"STORAGE"})}),(0,i.jsx)(n.td,{children:"Storage backend errors"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"VALIDATION"})}),(0,i.jsx)(n.td,{children:"Data validation errors"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"IO"})}),(0,i.jsx)(n.td,{children:"File system I/O errors"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"OFFSET"})}),(0,i.jsx)(n.td,{children:"Consumer offset management errors"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"configuration-errors",children:"Configuration Errors"}),"\n",(0,i.jsx)(n.h3,{id:"config_parse_error",children:"CONFIG_PARSE_ERROR"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Failed to parse configuration file"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Invalid YAML syntax in configuration file."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Validate YAML syntax: ",(0,i.jsx)(n.code,{children:"yamllint backup.yaml"})]}),"\n",(0,i.jsx)(n.li,{children:"Check for missing colons, incorrect indentation"}),"\n",(0,i.jsx)(n.li,{children:"Ensure proper quoting of special characters"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Example: Missing colon\nbootstrap_servers  # Wrong\n  - broker:9092\n\nbootstrap_servers:  # Correct\n  - broker:9092\n"})}),"\n",(0,i.jsx)(n.h3,{id:"config_missing_required",children:"CONFIG_MISSING_REQUIRED"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Missing required configuration: {field}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Required field not specified in configuration."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Add the missing field to your configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# Required fields for backup:\nmode: backup           # Required\nbackup_id: "my-backup" # Required\nsource:\n  bootstrap_servers:   # Required\n    - broker:9092\nstorage:\n  backend: filesystem  # Required\n  path: "/data"        # Required for filesystem\n'})}),"\n",(0,i.jsx)(n.h3,{id:"config_invalid_value",children:"CONFIG_INVALID_VALUE"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Invalid value for {field}: {value}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Field value is not valid."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common cases:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Invalid compression algorithm"}),"\n",(0,i.jsx)(n.li,{children:"Invalid security protocol"}),"\n",(0,i.jsx)(n.li,{children:"Invalid SASL mechanism"}),"\n",(0,i.jsx)(n.li,{children:"Compression level out of range"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Valid compression values: zstd, lz4, none\ncompression: gzip  # Invalid\n\n# Valid security protocols\nsecurity_protocol: INVALID  # Invalid\nsecurity_protocol: SASL_SSL # Valid\n\n# Valid zstd compression levels: 1-22\ncompression_level: 25  # Invalid (max is 22)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"config_invalid_topics",children:"CONFIG_INVALID_TOPICS"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"At least one topic must be specified"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," No topics configured for backup."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'source:\n  topics:\n    include:\n      - my-topic       # Add at least one topic\n      - "pattern-*"    # Or a pattern\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"kafka-errors",children:"Kafka Errors"}),"\n",(0,i.jsx)(n.h3,{id:"kafka_connection_failed",children:"KAFKA_CONNECTION_FAILED"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Failed to connect to Kafka cluster: {details}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Cannot establish connection to Kafka brokers."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verify brokers are reachable:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nc -zv broker-1 9092\ntelnet broker-1 9092\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check DNS resolution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nslookup broker-1.kafka.svc\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verify bootstrap servers in config:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"source:\n  bootstrap_servers:\n    - broker-1.kafka.svc:9092  # Use correct hostname/port\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check network policies/firewalls"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"kafka_auth_failed",children:"KAFKA_AUTH_FAILED"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Authentication failed: {details}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," SASL authentication failed."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verify credentials:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"source:\n  security:\n    sasl_username: correct-user\n    sasl_password: correct-password\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check SASL mechanism matches broker:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"sasl_mechanism: SCRAM-SHA-256  # Must match broker config\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verify user exists on Kafka cluster:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kafka-configs --bootstrap-server broker:9092 \\\n  --describe --entity-type users --entity-name backup-user\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"kafka_ssl_error",children:"KAFKA_SSL_ERROR"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"SSL/TLS error: {details}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," TLS certificate or configuration error."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verify certificate paths exist:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ls -la /etc/kafka/ca.crt\nls -la /etc/kafka/client.crt\nls -la /etc/kafka/client.key\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check certificate validity:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"openssl x509 -in /etc/kafka/client.crt -text -noout\nopenssl verify -CAfile /etc/kafka/ca.crt /etc/kafka/client.crt\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verify certificate permissions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"chmod 600 /etc/kafka/client.key\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"kafka_topic_not_found",children:"KAFKA_TOPIC_NOT_FOUND"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Topic not found: {topic}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Specified topic doesn't exist on the cluster."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"List available topics:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kafka-topics --bootstrap-server broker:9092 --list\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check topic name spelling and case"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verify topic patterns:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'topics:\n  include:\n    - "events-*"  # Check pattern matches actual topics\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"kafka_unauthorized",children:"KAFKA_UNAUTHORIZED"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Unauthorized: {details}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," User lacks required permissions."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Required ACLs for backup:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Topic: Read, Describe\nGroup: Read (for offset tracking)\nCluster: DescribeConfigs (optional)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kafka-acls --bootstrap-server broker:9092 \\\n  --add --allow-principal User:backup-user \\\n  --operation Read --operation Describe \\\n  --topic '*'\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"storage-errors",children:"Storage Errors"}),"\n",(0,i.jsx)(n.h3,{id:"storage_access_denied",children:"STORAGE_ACCESS_DENIED"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Access denied to storage: {path}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Insufficient permissions for storage backend."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions by backend:"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Filesystem:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check permissions\nls -la /var/lib/kafka-backup/\n\n# Fix permissions\nsudo chown -R kafka-backup:kafka-backup /var/lib/kafka-backup/\nchmod -R 755 /var/lib/kafka-backup/\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"S3:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Test S3 access\naws s3 ls s3://my-bucket/\n\n# Check IAM permissions (need s3:GetObject, s3:PutObject, s3:ListBucket)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Azure:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Test Azure access\naz storage blob list --container-name kafka-backups --account-name myaccount\n"})}),"\n",(0,i.jsx)(n.h3,{id:"storage_not_found",children:"STORAGE_NOT_FOUND"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Storage location not found: {path}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Specified path, bucket, or container doesn't exist."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Filesystem: Create directory\nmkdir -p /var/lib/kafka-backup/data\n\n# S3: Create bucket\naws s3 mb s3://my-kafka-backups\n\n# Azure: Create container\naz storage container create --name kafka-backups\n"})}),"\n",(0,i.jsx)(n.h3,{id:"storage_quota_exceeded",children:"STORAGE_QUOTA_EXCEEDED"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Storage quota exceeded"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Insufficient storage space."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check available space:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"df -h /var/lib/kafka-backup/\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Clean up old backups:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kafka-backup list --path /data\n# Remove old backups manually or implement retention\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Increase storage allocation"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"storage_credentials_invalid",children:"STORAGE_CREDENTIALS_INVALID"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Invalid storage credentials"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Cloud storage credentials are incorrect or expired."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"S3:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Test credentials\naws sts get-caller-identity\n\n# Check environment variables\necho $AWS_ACCESS_KEY_ID\necho $AWS_SECRET_ACCESS_KEY\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Azure:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Test credentials\naz storage account show --name myaccount\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"GCS:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Test credentials\ngcloud auth application-default print-access-token\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"validation-errors",children:"Validation Errors"}),"\n",(0,i.jsx)(n.h3,{id:"validation_backup_not_found",children:"VALIDATION_BACKUP_NOT_FOUND"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Backup not found: {backup_id}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Specified backup ID doesn't exist in storage."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"List available backups:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kafka-backup list --path /data\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check backup ID spelling"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verify storage path is correct"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"validation_manifest_corrupt",children:"VALIDATION_MANIFEST_CORRUPT"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Backup manifest is corrupted"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," The manifest.json file is missing or invalid."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check if manifest exists:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cat /data/backup-001/manifest.json | jq .\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Restore from a different backup"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Contact support if critical data"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"validation_segment_corrupt",children:"VALIDATION_SEGMENT_CORRUPT"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Segment validation failed: {segment}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Segment file is corrupted (checksum mismatch)."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Run deep validation:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kafka-backup validate --path /data --backup-id backup-001 --deep\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check for partial writes (backup may have been interrupted)"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Restore from a different backup point"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"validation_pitr_invalid",children:"VALIDATION_PITR_INVALID"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Invalid PITR time window: start must be before end"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," time_window_start is greater than time_window_end."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"restore:\n  time_window_start: 1701417600000  # Earlier timestamp\n  time_window_end: 1701504000000    # Later timestamp\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"offset-errors",children:"Offset Errors"}),"\n",(0,i.jsx)(n.h3,{id:"offset_reset_failed",children:"OFFSET_RESET_FAILED"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Failed to reset consumer offsets: {details}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Error resetting consumer group offsets."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Stop consumers first:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Consumer group must be inactive\nkafka-consumer-groups --bootstrap-server broker:9092 \\\n  --group my-group --describe\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check group permissions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kafka-acls --bootstrap-server broker:9092 \\\n  --add --allow-principal User:backup-user \\\n  --operation Read --operation Describe \\\n  --group my-group\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"offset_snapshot_not_found",children:"OFFSET_SNAPSHOT_NOT_FOUND"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Offset snapshot not found: {snapshot_id}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Referenced snapshot doesn't exist."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List available snapshots\nkafka-backup offset-rollback list --path /data/snapshots\n"})}),"\n",(0,i.jsx)(n.h3,{id:"offset_mapping_missing",children:"OFFSET_MAPPING_MISSING"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Offset mapping not available for backup"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Backup was created without ",(0,i.jsx)(n.code,{children:"include_offset_headers: true"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Re-run backup with offset headers enabled:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"backup:\n  include_offset_headers: true\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"io-errors",children:"I/O Errors"}),"\n",(0,i.jsx)(n.h3,{id:"io_read_error",children:"IO_READ_ERROR"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Failed to read file: {path}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," File read operation failed."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check file exists and permissions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ls -la /path/to/file\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check disk health:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dmesg | grep -i error\nsmartctl -a /dev/sda\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"io_write_error",children:"IO_WRITE_ERROR"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message:"})," ",(0,i.jsx)(n.code,{children:"Failed to write file: {path}"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," File write operation failed."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check available disk space:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"df -h\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check directory permissions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ls -la /path/to/directory/\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check if filesystem is read-only:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mount | grep /data\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"exit-codes",children:"Exit Codes"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Code"}),(0,i.jsx)(n.th,{children:"Meaning"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"0"}),(0,i.jsx)(n.td,{children:"Success"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"1"}),(0,i.jsx)(n.td,{children:"General error"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"2"}),(0,i.jsx)(n.td,{children:"Configuration error"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"3"}),(0,i.jsx)(n.td,{children:"Connection error"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"4"}),(0,i.jsx)(n.td,{children:"Authentication error"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"5"}),(0,i.jsx)(n.td,{children:"Storage error"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"6"}),(0,i.jsx)(n.td,{children:"Validation error"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,i.jsx)(n.p,{children:"If you encounter an error not listed here:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Enable verbose logging:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kafka-backup -vv backup --config backup.yaml\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check logs for stack traces"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["Search ",(0,i.jsx)(n.a,{href:"https://github.com/osodevops/kafka-backup/issues",children:"GitHub Issues"})]})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Open a new issue"})," with:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Error message"}),"\n",(0,i.jsx)(n.li,{children:"Configuration (sanitized)"}),"\n",(0,i.jsx)(n.li,{children:"Verbose output"}),"\n",(0,i.jsx)(n.li,{children:"Environment details"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>d});var r=s(6540);const i={},l=r.createContext(i);function c(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);